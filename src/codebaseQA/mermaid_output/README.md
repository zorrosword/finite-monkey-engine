# Mermaid è¾“å‡ºç›®å½•

è¿™ä¸ªç›®å½•ç”¨äºå­˜å‚¨æ™ºèƒ½åˆçº¦ä¸šåŠ¡æµç¨‹åˆ†æç”Ÿæˆçš„ Mermaid å›¾è¡¨æ–‡ä»¶ã€‚

## ğŸ“ ç›®å½•ç»“æ„

```
src/codebaseQA/mermaid_output/
â”œâ”€â”€ {project_id_1}/
â”‚   â”œâ”€â”€ {project_id_1}_business_flow.mmd
â”‚   â”œâ”€â”€ {project_id_1}_folder1.mmd
â”‚   â””â”€â”€ {project_id_1}_global_overview.mmd
â”œâ”€â”€ {project_id_2}/
â”‚   â””â”€â”€ {project_id_2}_business_flow.mmd
â””â”€â”€ README.md (æœ¬æ–‡ä»¶)
```

## ğŸ¯ æ–‡ä»¶å‘½åè§„åˆ™

### å°é¡¹ç›®ï¼ˆå¢é‡åˆ†æï¼‰
- `{project_id}_business_flow.mmd` - å®Œæ•´çš„ä¸šåŠ¡æµç¨‹å›¾

### å¤§é¡¹ç›®ï¼ˆæ–‡ä»¶å¤¹çº§åˆ«åˆ†æï¼‰
- `{project_id}_{folder_name}.mmd` - æ–‡ä»¶å¤¹çº§åˆ«çš„ä¸šåŠ¡æµç¨‹å›¾
- `{project_id}_global_overview.mmd` - é¡¹ç›®å…¨å±€æ¦‚è§ˆå›¾

## ğŸ”„ æ–‡ä»¶ç”Ÿæˆé€»è¾‘

1. **é¦–æ¬¡è¿è¡Œ**ï¼šç³»ç»Ÿä¼šç”Ÿæˆæ–°çš„ Mermaid æ–‡ä»¶å¹¶ä¿å­˜åˆ°å¯¹åº”é¡¹ç›®ç›®å½•
2. **é‡å¤è¿è¡Œ**ï¼šç³»ç»Ÿä¼šæ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨ Mermaid æ–‡ä»¶
   - å¦‚æœå­˜åœ¨ï¼šè·³è¿‡ç”Ÿæˆï¼Œç›´æ¥ä½¿ç”¨ç°æœ‰æ–‡ä»¶
   - å¦‚æœä¸å­˜åœ¨ï¼šé‡æ–°ç”Ÿæˆ

## ğŸ“Š æ–‡ä»¶ç”¨é€”

è¿™äº› Mermaid æ–‡ä»¶ç”¨äºï¼š

1. **ä¸šåŠ¡æµç¨‹æå–**ï¼šPlanning æ¨¡å—ä»è¿™äº›æ–‡ä»¶ä¸­æå–ä¸šåŠ¡æµç¨‹
2. **å‡½æ•°åŒ¹é…**ï¼šå°†ä¸šåŠ¡æµç¨‹ä¸­çš„æ­¥éª¤åŒ¹é…åˆ°å®é™…çš„å‡½æ•°
3. **ä¸Šä¸‹æ–‡æ‰©å±•**ï¼šä¸ºä¸šåŠ¡æµç¨‹æ·»åŠ ç›¸å…³çš„å‡½æ•°ä¸Šä¸‹æ–‡
4. **ä»»åŠ¡åˆ›å»º**ï¼šåŸºäºæ‰©å±•åçš„ä¸šåŠ¡æµç¨‹åˆ›å»ºåˆ†æä»»åŠ¡

## ğŸ› ï¸ ç›¸å…³ä»£ç æ–‡ä»¶

- `src/main.py` - è´Ÿè´£ç”Ÿæˆå’Œä¿å­˜ Mermaid æ–‡ä»¶
- `src/planning/business_flow_utils.py` - è´Ÿè´£è¯»å–å’Œè§£æ Mermaid æ–‡ä»¶
- `src/planning/planning_processor.py` - è´Ÿè´£ä» Mermaid æ–‡ä»¶æå–ä¸šåŠ¡æµç¨‹
- `src/code_summarizer/` - è´Ÿè´£ç”Ÿæˆ Mermaid ä¸šåŠ¡æµç¨‹å›¾

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

```python
# åœ¨ main.py ä¸­ç”Ÿæˆ
output_dir = f"src/codebaseQA/mermaid_output/{project.id}"
mermaid_file = f"{output_dir}/{project.id}_business_flow.mmd"

# åœ¨ planning æ¨¡å—ä¸­è¯»å–
mermaid_contents = BusinessFlowUtils.load_mermaid_files(
    project.mermaid_output_dir, 
    project.project_id
)
```

## ğŸ”§ ç»´æŠ¤è¯´æ˜

- å¦‚æœéœ€è¦é‡æ–°ç”Ÿæˆ Mermaid æ–‡ä»¶ï¼Œè¯·åˆ é™¤å¯¹åº”çš„é¡¹ç›®ç›®å½•
- æ–‡ä»¶é‡‡ç”¨ UTF-8 ç¼–ç 
- å»ºè®®å®šæœŸæ¸…ç†ä¸éœ€è¦çš„é¡¹ç›®ç›®å½•ä»¥èŠ‚çœç©ºé—´

---

**æ³¨æ„**ï¼šè¿™ä¸ªç›®å½•ç»“æ„æ›¿ä»£äº†ä¹‹å‰çš„ `./output/{project_id}/` ç»“æ„ï¼Œæä¾›äº†æ›´å¥½çš„ç»„ç»‡å’Œç®¡ç†ã€‚ 